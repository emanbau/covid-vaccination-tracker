{"version":3,"sources":["Components/MapData.js","Components/Marks.js","Components/ChoroplethMap.js","Components/DataTable.js","Components/TabPanel.js","Components/InformationTab.js","App.js","index.js"],"names":["useData","useState","data","setData","useEffect","json","then","topojsonData","feature","objects","countries","colorScale","scaleThreshold","domain","range","schemePurples","colorCheck","vaxCountryData","countryData","i","length","properties","name","toLowerCase","includes","totalVaccinations","Marks","width","height","projection","geoEqualEarth","translate","scale","path","geoPath","vaxCountries","push","country","className","features","map","fill","stroke","strokeLineJoin","d","screenWidth","window","screen","screenHeight","useStyles","makeStyles","svg","display","justifyContent","ChoroplethMap","filteredData","classes","svgRef","useRef","setWidth","setHeight","current","clientWidth","clientHeight","console","log","ref","tableContainerDiv","flexDirection","alignItems","searchbar","minWidth","maxWidth","marginTop","marginBottom","padding","borderRadius","fontSize","border","textAlign","outline","tableContainer","maxHeight","table","headCell","paddingLeft","paddingRight","paddingTop","paddingBottom","backgroundColor","bodyCell","DataTable","rows","handleChange","type","placeholder","onChange","Paper","elevation","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","element","box","overflowX","TabPanel","props","children","value","index","role","hidden","id","aria-labelledby","Box","divContainer","overflow","paper","flexGrow","tabs","idCreate","InformationTab","search","setSearch","filter","total","countryName","dataPush","setValue","Tabs","centered","indicatorColor","event","newValue","Tab","label","target","theme","createMuiTheme","palette","primary","main","secondary","App","axios","get","response","catch","error","ThemeProvider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f0b30d11.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\nimport { json } from 'd3';\nimport { feature } from 'topojson';\n\nconst jsonUrl =\n    'https://cdn.jsdelivr.net/npm/world-atlas@2/countries-50m.json'\n\nexport const useData = () => {\n    const [data, setData] = useState(null);\n\n\n    useEffect(() => {\n        json(jsonUrl).then(topojsonData => {\n            setData(feature(topojsonData, topojsonData.objects.countries));\n        });\n    }, []);\n    \n    return data;\n    };","import { geoEqualEarth, geoPath, scaleThreshold,  schemePurples } from 'd3';\n\n\n// Color Key\nconst colorScale = scaleThreshold()\n    .domain([1000, 10000, 100000, 1000000, 10000000, 100000000])\n    .range(schemePurples[7]);\n\n// Checks data for the country - sets the color on map\nconst colorCheck = (feature, vaxCountryData, countryData) => {\n    for (let i = 0; i < vaxCountryData.length; i++) {\n        if(feature.properties.name.toLowerCase().includes(vaxCountryData[i].toLowerCase())) {\n            return colorScale(countryData[i].totalVaccinations)\n        }\n        else {\n            continue;\n        }\n    }\n    return '#fff';\n}\n\n\nfunction Marks({ width, height, data, countryData}) {\n\n    // d3 projections\n    const projection = geoEqualEarth()\n        .translate([width / 2, height / 2 + 50])\n        .scale(width/5)        \n    const path = geoPath(projection);\n\n\n    let vaxCountries = [];\n\n    // Match the datasets\n    for (let i = 0; i < countryData.length; i++) {\n        vaxCountries.push(countryData[i].country.toLowerCase());\n    }\n\n\n    // Wait for dataset to load\n    if (!data[0]) {\n        return (\n            <pre>Loading...</pre>\n        )\n    }\n\n    return (\n    <g className=\"marks\">\n        {data[0].features.map((feature, i) => {\n            return(\n                <path \n                fill={colorCheck(feature, vaxCountries, countryData)}\n                stroke='white' \n                strokeLineJoin='round' \n                d={path(feature)}/>\n            )\n        })}\n    </g>\n    )\n}\n\nexport default Marks\n\n\n\n\n\n\n","import React from 'react'\nimport { useRef, useEffect, useState } from 'react';\nimport { useData } from './MapData';\nimport Marks from './Marks';\nimport { makeStyles } from '@material-ui/core/styles';\n\n// Screen Size\nconst screenWidth = window.screen.width;\nconst screenHeight = window.screen.height;\n\n// Styles\nconst useStyles = makeStyles({\n    svg: {\n        width: screenWidth,\n        height: screenHeight,\n        display: 'flex',\n        justifyContent: 'center',\n    },\n});\n\nfunction ChoroplethMap({ filteredData }) {\n\n    const classes = useStyles();\n\n    const svgRef = useRef();\n    \n    const [width, setWidth] = useState();\n    const [height, setHeight] = useState();\n\n    useEffect(() => {\n        setWidth(svgRef.current.clientWidth);\n        setHeight(svgRef.current.clientHeight);\n\n        console.log(width);\n        console.log(height);\n    }, [width, height])\n\n    const data = [useData()];\n\n    // Wait for dataset to load\n    if (!data) {\n        return (\n            <pre>Loading...</pre>\n        )\n    }\n\n\n    return (\n        <svg className={classes.svg} ref={svgRef}>\n            <Marks width={width} height={height} data={data} countryData={filteredData}/>\n        </svg>\n    )\n}\n\nexport default ChoroplethMap\n","import React from 'react';\nimport './ChoroplethMap';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles({\n    tableContainerDiv: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: '100vw',\n        height: '95vh',\n    },\n\n    searchbar: {\n        display: 'block',\n        minWidth: 300,\n        maxWidth: 500,\n        marginTop: '2em',\n        marginBottom: '2em',\n        padding: '10px',\n        borderRadius: '16px 16px 16px 16px',\n        fontSize: '15px',\n        border: '.5px solid black',\n        textAlign: 'center',\n        outline: 'none',\n    },\n\n    tableContainer: {\n        minWidth: '33vw',\n        maxWidth: '100vw',\n        maxHeight: '80vh',\n    },\n\n    table: {\n        minWidth: '33vw',\n    },\n\n    headCell: {\n        paddingLeft: '3em',\n        paddingRight: '3em',\n        paddingTop: '1.5em',\n        paddingBottom: '1.5em',\n        backgroundColor: '#fafafa',\n    },\n    bodyCell: {\n        paddingLeft: '3em',\n        paddingRight: '3em',\n    },\n  });\n\nfunction DataTable({rows, handleChange}) {\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.tableContainerDiv}>\n                <form>\n                    <input className={classes.searchbar} type='text' placeholder='Search Country' onChange={handleChange}/>\n                </form>\n                <Paper elevation={9}>\n                    <TableContainer className={classes.tableContainer}>\n                        <Table className={classes.table}>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell className={classes.headCell}>Country</TableCell>\n                                    <TableCell className={classes.headCell} align='left'>Total Vaccinations</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                            {rows.map( element => {\n                                return(\n                                    <TableRow>\n                                        <TableCell className={classes.bodyCell}>{element.country}</TableCell>\n                                        <TableCell className={classes.bodyCell} align='left'>{element.totalVaccinations}</TableCell>\n                                    </TableRow>\n                                )\n                            })}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                </Paper>\n            </div>\n    )\n}\n\nexport default DataTable\n","import React from 'react'\nimport Box from '@material-ui/core/Box';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    box: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '90vh',\n        overflowX: 'hidden',\n    },\n\n});\n\nfunction TabPanel(props) {\n    const {children, value, index} = props;\n    const classes = useStyles();\n    return(\n        <div\n            role='tabpanel'\n            hidden={value !== index}\n            id={`tabpanel-${index}`}\n            aria-labelledby={`tab-${index}`}\n        >\n            {value === index && (\n                <Box className={classes.box}>\n                    {children}\n                </Box>\n            )}\n        </div>\n    )\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n}\n\nexport default TabPanel\n","import React from 'react';\nimport { useState } from 'react';\nimport DataTable from './DataTable';\nimport ChoroplethMap from './ChoroplethMap';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TabPanel from './TabPanel';\nimport Paper from '@material-ui/core/Paper';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\n\n\nconst useStyles = makeStyles({\n    divContainer: {\n        overflow: 'hidden',\n    },\n\n    paper: {\n        flexGrow: 1,\n    },\n\n    tabs: {\n        height: '3vh',\n        display: 'flex',\n        alignItems: 'center',\n    },\n\n    \n});\n\nfunction idCreate(index) {\n    return {\n        id:`tab-${index}`,\n        'aria-controls': `tabpanel-${index}`\n    }\n}\n\nfunction createData(country, totalVaccinations) {\n    return {country, totalVaccinations};\n}\n\nlet rows = []\n\nfunction InformationTab({ data }) {\n\n    const [search, setSearch] = useState('');\n\n    // Form Handle - Search for country\n    const handleChange = event => {\n        setSearch(event.target.value);\n        rows = [];\n    }\n\n    // Filtered Search - Returns country that was searched\n    const filteredCountry = data.filter(data => \n        data.country.toLowerCase().includes(search.toLowerCase())\n    )\n\n    // Filters out continent data, finds most recent data, pushes data to table row\n    filteredCountry.filter(data => !data['iso_code'].includes(\"OWID\")).map(data => { \n        let total;\n        let countryName = data[\"country\"];\n\n        for (let i = data[\"data\"].length - 1; i >= 0; i--) {\n            if (\"total_vaccinations\" in data[\"data\"][i]) {\n                total = data[\"data\"][i][\"total_vaccinations\"];\n                break;\n            } else {\n                total = 'DNE';\n            }\n        }\n\n        let dataPush = createData(countryName, total);\n        rows.push(dataPush);\n\n        return null;\n      })\n\n    // Tab Value State\n    const [value, setValue] = useState(0);\n    const onClick = (event, newValue) => {\n        setValue(newValue);\n    }\n\n    const classes = useStyles();\n\n\n    return (\n        <div>\n            <Paper className={classes.paper}>\n                <Tabs centered className={classes.tabs} indicatorColor='primary' value={value} onChange={onClick}>\n                    <Tab label='Map' {...idCreate(0)}/>\n                    <Tab label='Table' {...idCreate(1)}/>\n                </Tabs>\n            </Paper>\n            <TabPanel index={0} value={value}>\n                <ChoroplethMap filteredData={rows}/>\n            </TabPanel>\n            <TabPanel index={1} value={value}>                \n                <DataTable rows={rows} handleChange={handleChange}/>\n            </TabPanel>\n        </div>\n    )\n}\n\nexport default InformationTab\n","import React from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport {useState, useEffect} from 'react';\nimport InformationTab from './Components/InformationTab';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#9a67ea\" \n    },\n    secondary: {\n      main: \"#ffcc80\" \n    }\n  },\n});\n\nfunction App() {\n\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    axios.get('https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.json')\n    .then(response => {\n      setData(response.data);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n  }, [])\n\n\n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme}>\n        <InformationTab\n          data={data}\n        />\n      </ThemeProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}