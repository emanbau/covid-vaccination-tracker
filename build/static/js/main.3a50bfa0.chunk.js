(this["webpackJsonpcovid-vaccination-tracker"]=this["webpackJsonpcovid-vaccination-tracker"]||[]).push([[0],{177:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(22),i=a.n(c),r=a(14),o=(a(177),a(103)),s=a.n(o),l=a(50),d=a(13),u=a(106),b=function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){Object(d.c)("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-50m.json").then((function(e){c(Object(u.a)(e,e.objects.countries))}))}),[]),a},j=a(3),h=Object(d.e)().domain([1e3,1e4,1e5,1e6,1e7,1e8]).range(d.f[7]),f=function(e,t,a){for(var n=0;n<t.length;n++)if(e.properties.name.toLowerCase().includes(t[n].toLowerCase()))return h(a[n].totalVaccinations);return"#eee"};var p=function(e){for(var t=e.width,a=e.height,n=e.data,c=e.countryData,i=e.mouseover,r=e.mousemove,o=e.mouseleave,s=Object(d.a)().translate([t/2,a/2+50]).scale(t/5),l=Object(d.b)(s),u=[],b=0;b<c.length;b++)u.push(c[b].country.toLowerCase());return n[0]?Object(j.jsx)("g",{className:"marks",children:n[0].features.map((function(e){return Object(j.jsx)("path",{fill:f(e,u,c),stroke:"white",strokeLineJoin:"round",onMouseOver:i,onMouseMove:function(t){r(t,e.properties.name,function(e,t,a){for(var n=0;n<t.length;n++)if(e.properties.name.toLowerCase().includes(t[n].toLowerCase()))return a[n].totalVaccinations;return"No Data"}(e,u,c))},onMouseLeave:o,d:l(e)})}))}):Object(j.jsx)("pre",{children:"Loading..."})},O=a(228),v=window.screen.width,m=window.screen.height,x=Object(O.a)({container:{overflow:"hidden"},svg:{width:v,height:m,display:"flex",justifyContent:"center",overflow:"hidden"}});var g=function(e){var t=e.filteredData,a=x(),c=Object(n.useRef)(),i=Object(n.useRef)(null),o=Object(n.useState)(),s=Object(r.a)(o,2),l=s[0],u=s[1],h=Object(n.useState)(),f=Object(r.a)(h,2),O=f[0],v=f[1];Object(n.useEffect)((function(){u(c.current.clientWidth),v(c.current.clientHeight)}),[]);var m=Object(d.g)(i.current).attr("class","tooltip").style("opacity",1).style("background-color","#fff").style("border","solid").style("border-width","1px").style("border-radius","2px").style("padding","5px").style("position","absolute"),g=[b()];return g?Object(j.jsxs)("div",{className:a.container,children:[Object(j.jsx)("div",{className:"tooltip",ref:i}),Object(j.jsx)("svg",{className:a.svg,ref:c,children:Object(j.jsx)(p,{width:l,height:O,data:g,countryData:t,mouseover:function(e){m.style("opacity",1)},mousemove:function(e,t,a){m.html(t+"<br>Total Vaccinations: "+a+"</br>").style("left",Object(d.d)(e)[0]+10+"px").style("top",Object(d.d)(e)[1]+"px")},mouseleave:function(){m.style("opacity",0)}})})]}):Object(j.jsx)("pre",{children:"Loading..."})},y=a(231),w=a(235),C=a(234),N=a(230),L=a(232),k=a(233),D=a(229),S=Object(O.a)({tableContainerDiv:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100vw",height:"95vh"},searchbar:{display:"block",minWidth:300,maxWidth:500,marginTop:"2em",marginBottom:"2em",padding:"10px",borderRadius:"16px 16px 16px 16px",fontSize:"15px",border:".5px solid black",textAlign:"center",outline:"none"},tableContainer:{minWidth:"33vw",maxWidth:"100vw",maxHeight:"80vh"},table:{minWidth:"33vw"},headCell:{paddingLeft:"3em",paddingRight:"3em",paddingTop:"1.5em",paddingBottom:"1.5em",backgroundColor:"#fafafa"},bodyCell:{paddingLeft:"3em",paddingRight:"3em"}});var W=function(e){var t=e.rows,a=e.handleChange,n=S();return Object(j.jsxs)("div",{className:n.tableContainerDiv,children:[Object(j.jsx)("form",{children:Object(j.jsx)("input",{className:n.searchbar,type:"text",placeholder:"Search Country",onChange:a})}),Object(j.jsx)(D.a,{elevation:9,children:Object(j.jsx)(N.a,{className:n.tableContainer,children:Object(j.jsxs)(y.a,{className:n.table,children:[Object(j.jsx)(L.a,{children:Object(j.jsxs)(k.a,{children:[Object(j.jsx)(C.a,{className:n.headCell,children:"Country"}),Object(j.jsx)(C.a,{className:n.headCell,align:"left",children:"Total Vaccinations"})]})}),Object(j.jsx)(w.a,{children:t.map((function(e){return Object(j.jsxs)(k.a,{children:[Object(j.jsx)(C.a,{className:n.bodyCell,children:e.country}),Object(j.jsx)(C.a,{className:n.bodyCell,align:"left",children:e.totalVaccinations})]})}))})]})})})]})},V=a(238),E=Object(O.a)({box:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"90vh",overflowX:"hidden"}});var I=function(e){var t=e.children,a=e.value,n=e.index,c=E();return Object(j.jsx)("div",{role:"tabpanel",hidden:a!==n,id:"tabpanel-".concat(n),"aria-labelledby":"tab-".concat(n),children:a===n&&Object(j.jsx)(V.a,{className:c.box,children:t})})},M=a(239),R=a(236),T=Object(O.a)({divContainer:{overflow:"hidden"},paper:{flexGrow:1},tabs:{height:"3vh",display:"flex",alignItems:"center"}});function B(e){return{id:"tab-".concat(e),"aria-controls":"tabpanel-".concat(e)}}var J=[];var _=function(e){var t=e.data,a=Object(n.useState)(""),c=Object(r.a)(a,2),i=c[0],o=c[1];t.filter((function(e){return e.country.toLowerCase().includes(i.toLowerCase())})).filter((function(e){return!e.iso_code.includes("OWID")})).map((function(e){for(var t,a=e.country,n=e.data.length-1;n>=0;n--){if("total_vaccinations"in e.data[n]){t=e.data[n].total_vaccinations;break}t="DNE"}var c={country:a,totalVaccinations:t};return J.push(c),null}));var s=Object(n.useState)(0),d=Object(r.a)(s,2),u=d[0],b=d[1],h=T();return Object(j.jsxs)("div",{children:[Object(j.jsx)(D.a,{className:h.paper,children:Object(j.jsxs)(M.a,{centered:!0,className:h.tabs,indicatorColor:"primary",value:u,onChange:function(e,t){b(t)},children:[Object(j.jsx)(R.a,Object(l.a)({label:"Map"},B(0))),Object(j.jsx)(R.a,Object(l.a)({label:"Table"},B(1)))]})}),Object(j.jsx)(I,{index:0,value:u,children:Object(j.jsx)(g,{filteredData:J})}),Object(j.jsx)(I,{index:1,value:u,children:Object(j.jsx)(W,{rows:J,handleChange:function(e){o(e.target.value),J=[]}})})]})},A=a(107),H=a(237),z=Object(A.a)({palette:{primary:{main:"#9a67ea"},secondary:{main:"#ffcc80"}}});var G=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){s.a.get("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.json").then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(H.a,{theme:z,children:Object(j.jsx)(_,{data:a})})})};i.a.render(Object(j.jsx)(G,{}),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.3a50bfa0.chunk.js.map