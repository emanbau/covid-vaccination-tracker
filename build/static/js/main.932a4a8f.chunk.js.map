{"version":3,"sources":["Components/MapData.js","Components/Marks.js","Components/ChoroplethMap.js","Components/VaccinationTable.js","App.js","index.js"],"names":["useData","useState","data","setData","useEffect","json","then","topojsonData","feature","objects","countries","projection","geoEqualEarth","path","geoPath","colorScale","scaleThreshold","domain","range","schemeYlOrRd","colorCheck","vaxCountryData","countryData","i","length","properties","name","toLowerCase","includes","totalVaccinations","Marks","vaxCountries","push","country","className","fill","d","type","features","map","stroke","stroke-width","ChoroplethMap","filteredData","width","height","useStyles","makeStyles","tableContainerDiv","display","flexDirection","alignItems","searchbar","marginTop","marginBottom","padding","borderRadius","fontSize","border","textAlign","outline","tableContainer","minWidth","maxWidth","table","headCell","paddingLeft","paddingRight","paddingTop","paddingBottom","backgroundColor","bodyCell","rows","VaccinationTable","classes","search","setSearch","filter","total","countryName","dataPush","placeholder","onChange","event","target","value","Paper","elevation","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","element","App","axios","get","response","catch","error","console","log","ReactDOM","render","document","getElementById"],"mappings":"wRAOaA,EAAU,WAAO,IAAD,EACDC,mBAAS,MADR,mBAClBC,EADkB,KACZC,EADY,KAUzB,OANAC,qBAAU,WACNC,YAPJ,kEAOkBC,MAAK,SAAAC,GACfJ,EAAQK,YAAQD,EAAcA,EAAaE,QAAQC,iBAExD,IAEIR,G,OCfLS,EAAaC,cAEbC,EAAOC,YAAQH,GAGfI,EAAaC,cACdC,OAAO,CAAC,IAAM,IAAO,IAAQ,IAAS,IAAU,MAChDC,MAAMC,IAAa,IAGlBC,EAAa,SAACZ,EAASa,EAAgBC,GACzC,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAeG,OAAQD,IACvC,GAAGf,EAAQiB,WAAWC,KAAKC,cAAcC,SAASP,EAAeE,GAAGI,eAChE,OAAOZ,EAAWO,EAAYC,GAAGM,mBAMzC,MAAO,SAqCIC,MAjCf,YAKI,IALkC,IAArB5B,EAAoB,EAApBA,KAAMoB,EAAc,EAAdA,YAEfS,EAAe,GAGVR,EAAI,EAAGA,EAAID,EAAYE,OAAQD,IACpCQ,EAAaC,KAAKV,EAAYC,GAAGU,QAAQN,eAK7C,OAAKzB,EAAK,GAOV,oBAAGgC,UAAU,QAAb,UACI,sBAAMC,KAAK,UAAUC,EAAGvB,EAAK,CAACwB,KAAM,aACnCnC,EAAK,GAAGoC,SAASC,KAAI,SAAC/B,EAASe,GAC5B,OACI,sBACAY,KAAMf,EAAWZ,EAASuB,EAAcT,GACxCkB,OAAO,UACPC,eAAa,IACbL,EAAGvB,EAAKL,WAbZ,8CCZGkC,MAnBf,YAA0C,IAAjBC,EAAgB,EAAhBA,aAEfzC,EAAO,CAACF,KAGd,OAAKE,EAQD,qBAAK0C,MAhBC,IAgBaC,OAfZ,IAeP,SACI,cAAC,EAAD,CAAO3C,KAAMA,EAAMoB,YAAaqB,MAPhC,8C,wECANG,EAAYC,YAAW,CACzBC,kBAAmB,CACfC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZP,MAAO,SAGXQ,UAAW,CACPH,QAAS,QACTL,MAAO,OACPS,UAAW,MACXC,aAAc,MACdC,QAAS,OACTC,aAAc,sBACdC,SAAU,OACVC,OAAQ,mBACRC,UAAW,SACXC,QAAS,QAGbC,eAAgB,CACZC,SAAU,IACVC,SAAU,KAGdC,MAAO,CACHF,SAAU,KAGdG,SAAU,CACNC,YAAa,MACbC,aAAc,MACdC,WAAY,QACZC,cAAe,QACfC,gBAAiB,WAErBC,SAAU,CACNL,YAAa,MACbC,aAAc,SAQtB,IAAIK,EAAO,GA0EIC,MAxEf,YAAqC,IAATvE,EAAQ,EAARA,KAElBwE,EAAU5B,IAFgB,EAIJ7C,mBAAS,IAJL,mBAIzB0E,EAJyB,KAIjBC,EAJiB,KAsChC,OAzBwB1E,EAAK2E,QAAO,SAAA3E,GAAI,OACpCA,EAAK+B,QAAQN,cAAcC,SAAS+C,EAAOhD,kBAI/BkD,QAAO,SAAA3E,GAAI,OAAKA,EAAI,SAAa0B,SAAS,WAASW,KAAI,SAAArC,GAInE,IAHA,IAAI4E,EACAC,EAAc7E,EAAI,QAEbqB,EAAIrB,EAAI,KAASsB,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAC/C,GAAI,uBAAwBrB,EAAI,KAASqB,GAAI,CACzCuD,EAAQ5E,EAAI,KAASqB,GAAb,mBACR,MAEAuD,EAAQ,MAIhB,IAAIE,EApCD,CAAC/C,QAoCsB8C,EApCblD,kBAoC0BiD,GAGvC,OAFAN,EAAKxC,KAAKgD,GAEH,QAKP,gCACI,cAAC,EAAD,CAAerC,aAAc6B,IAC7B,sBAAKtC,UAAWwC,EAAQ1B,kBAAxB,UACI,+BACI,uBAAOd,UAAWwC,EAAQtB,UAAWf,KAAK,OAAO4C,YAAY,iBAAiBC,SApCzE,SAAAC,GACjBP,EAAUO,EAAMC,OAAOC,OACvBb,EAAO,QAoCC,cAACc,EAAA,EAAD,CAAOC,UAAW,EAAlB,SACI,cAACC,EAAA,EAAD,CAAgBtD,UAAWwC,EAAQb,eAAnC,SACI,eAAC4B,EAAA,EAAD,CAAOvD,UAAWwC,EAAQV,MAA1B,UACI,cAAC0B,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAW1D,UAAWwC,EAAQT,SAA9B,qBACA,cAAC2B,EAAA,EAAD,CAAW1D,UAAWwC,EAAQT,SAAU4B,MAAM,OAA9C,qCAGR,cAACC,EAAA,EAAD,UACCtB,EAAKjC,KAAK,SAAAwD,GACP,OACI,eAACJ,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAW1D,UAAWwC,EAAQH,SAA9B,SAAyCwB,EAAQ9D,UACjD,cAAC2D,EAAA,EAAD,CAAW1D,UAAWwC,EAAQH,SAAUsB,MAAM,OAA9C,SAAsDE,EAAQlE,0CC3FvFmE,MAxBf,WAAgB,IAAD,EAEW/F,mBAAS,IAFpB,mBAENC,EAFM,KAEAC,EAFA,KAeb,OAXAC,qBAAU,WACR6F,IAAMC,IAAI,0GACT5F,MAAK,SAAA6F,GACJhG,EAAQgG,EAASjG,SAElBkG,OAAM,SAAAC,GACLC,QAAQC,IAAIF,QAEb,IAID,qBAAKnE,UAAU,MAAf,SACE,cAAC,EAAD,CACEhC,KAAMA,OCrBdsG,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.932a4a8f.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\nimport { json } from 'd3';\nimport { feature } from 'topojson';\n\nconst jsonUrl =\n    'https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json'\n\nexport const useData = () => {\n    const [data, setData] = useState(null);\n\n\n    useEffect(() => {\n        json(jsonUrl).then(topojsonData => {\n            setData(feature(topojsonData, topojsonData.objects.countries));\n        });\n    }, []);\n    \n    return data;\n    };","import { geoEqualEarth, geoPath, scaleThreshold, schemeYlOrRd } from 'd3';\n\nconst projection = geoEqualEarth()\n\nconst path = geoPath(projection);\n\n// Color Key\nconst colorScale = scaleThreshold()\n    .domain([1000, 10000, 100000, 1000000, 10000000, 100000000])\n    .range(schemeYlOrRd[7]);\n\n// Checks data for the country - sets the color on map\nconst colorCheck = (feature, vaxCountryData, countryData) => {\n    for (let i = 0; i < vaxCountryData.length; i++) {\n        if(feature.properties.name.toLowerCase().includes(vaxCountryData[i].toLowerCase())) {\n            return colorScale(countryData[i].totalVaccinations)\n        }\n        else {\n            continue;\n        }\n    }\n    return 'black';\n}\n\n\nfunction Marks({ data, countryData}) {\n\n    let vaxCountries = [];\n\n    // Match the datasets\n    for (let i = 0; i < countryData.length; i++) {\n        vaxCountries.push(countryData[i].country.toLowerCase());\n    }\n\n\n    // Wait for dataset to load\n    if (!data[0]) {\n        return (\n            <pre>Loading...</pre>\n        )\n    }\n\n    return (\n    <g className=\"marks\">\n        <path fill='#EFEFEF' d={path({type: 'Sphere'})}/>\n        {data[0].features.map((feature, i) => {\n            return(\n                <path \n                fill={colorCheck(feature, vaxCountries, countryData)}\n                stroke='#EFEFEF' \n                stroke-width='1' \n                d={path(feature)}/>\n            )\n        })}\n    </g>\n    )\n}\n\nexport default Marks\n\n\n\n\n\n\n","import React from 'react'\nimport { useData } from './MapData';\nimport Marks from './Marks';\n\nconst width = 1000;\nconst height = 500;\n\nfunction ChoroplethMap({ filteredData }) {\n\n    const data = [useData()];\n\n    // Wait for dataset to load\n    if (!data) {\n        return (\n            <pre>Loading...</pre>\n        )\n    }\n\n\n    return (\n        <svg width={width} height={height}>\n            <Marks data={data} countryData={filteredData}/>\n        </svg>\n    )\n}\n\nexport default ChoroplethMap\n","import React from 'react';\nimport { useState } from 'react';\nimport './VaccinationTable.css';\nimport './ChoroplethMap';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport ChoroplethMap from './ChoroplethMap';\n\nconst useStyles = makeStyles({\n    tableContainerDiv: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        width: '100vw',\n    },\n\n    searchbar: {\n        display: 'block',\n        width: '100%',\n        marginTop: '2em',\n        marginBottom: '2em',\n        padding: '10px',\n        borderRadius: '16px 16px 16px 16px',\n        fontSize: '15px',\n        border: '.5px solid black',\n        textAlign: 'center',\n        outline: 'none',\n    },\n\n    tableContainer: {\n        minWidth: 300,\n        maxWidth: 500,\n    },\n\n    table: {\n        minWidth: 300,\n    },\n\n    headCell: {\n        paddingLeft: '3em',\n        paddingRight: '3em',\n        paddingTop: '1.5em',\n        paddingBottom: '1.5em',\n        backgroundColor: '#fafafa',\n    },\n    bodyCell: {\n        paddingLeft: '3em',\n        paddingRight: '3em',\n    },\n  });\n\nfunction createData(country, totalVaccinations) {\n    return {country, totalVaccinations};\n}\n\nlet rows = []\n\nfunction VaccinationTable({ data }) {\n\n    const classes = useStyles();\n\n    const [search, setSearch] = useState('');\n\n    // Form Handle - Search for country\n    const handleChange = event => {\n        setSearch(event.target.value);\n        rows = [];\n    }\n\n    // Filtered Search - Returns country that was searched\n    const filteredCountry = data.filter(data => \n        data.country.toLowerCase().includes(search.toLowerCase())\n    )\n\n    // Filters out continent data, finds most recent data, pushes data to table row\n    filteredCountry.filter(data => !data['iso_code'].includes(\"OWID\")).map(data => { \n        let total;\n        let countryName = data[\"country\"];\n\n        for (let i = data[\"data\"].length - 1; i >= 0; i--) {\n            if (\"total_vaccinations\" in data[\"data\"][i]) {\n                total = data[\"data\"][i][\"total_vaccinations\"];\n                break;\n            } else {\n                total = 'DNE';\n            }\n        }\n\n        let dataPush = createData(countryName, total);\n        rows.push(dataPush);\n\n        return null;\n      })\n\n\n    return (\n        <div>\n            <ChoroplethMap filteredData={rows}/>\n            <div className={classes.tableContainerDiv}>\n                <form>\n                    <input className={classes.searchbar} type='text' placeholder='Search Country' onChange={handleChange}/>\n                </form>\n                <Paper elevation={9}>\n                    <TableContainer className={classes.tableContainer}>\n                        <Table className={classes.table}>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell className={classes.headCell}>Country</TableCell>\n                                    <TableCell className={classes.headCell} align='left'>Total Vaccinations</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                            {rows.map( element => {\n                                return(\n                                    <TableRow>\n                                        <TableCell className={classes.bodyCell}>{element.country}</TableCell>\n                                        <TableCell className={classes.bodyCell} align='left'>{element.totalVaccinations}</TableCell>\n                                    </TableRow>\n                                )\n                            })}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                </Paper>\n            </div>\n        </div>\n    )\n}\n\nexport default VaccinationTable\n","import React from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport {useState, useEffect} from 'react';\nimport VaccinationTable from './Components/VaccinationTable';\n\n\nfunction App() {\n\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    axios.get('https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.json')\n    .then(response => {\n      setData(response.data);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n  }, [])\n\n\n  return (\n    <div className=\"App\">\n      <VaccinationTable\n        data={data}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}